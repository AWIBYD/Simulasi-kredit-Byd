<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generator Follow Up Customer (AI)</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body {
font-family: 'Inter', sans-serif;
}
.template-preview {
white-space: pre-wrap;
word-wrap: break-word;
}
#alarmToast {
transition: opacity 0.5s, transform 0.5s;
}
</style>
</head>
<body class="bg-gray-100 min-h-screen p-4 sm:p-6 lg:p-8">
<div class="max-w-5xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden">
<div class="p-6 md:p-8">
<h1 class="text-2xl md:text-3xl font-bold text-gray-800 text-center">Generator Follow Up Customer (AI)</h1>
<p class="text-center text-gray-500 mt-2">Buat template pesan WhatsApp cerdas yang disesuaikan dengan unit mobil.</p>
</div>

<div class="grid grid-cols-1 lg:grid-cols-2 gap-0">
<!-- Kolom Input -->
<div class="p-6 md:p-8 border-t lg:border-t-0 lg:border-r border-gray-200">
<div class="space-y-6">
<!-- Personalisasi -->
<div>
<h2 class="text-lg font-semibold text-gray-700 mb-3">1. Personalisasi Pesan</h2>
<div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
<div>
<label for="customerName" class="block text-sm font-medium text-gray-600 mb-1">Nama Customer</label>
<input type="text" id="customerName" class="w-full p-2 border border-gray-300 rounded-md shadow-sm" placeholder="Contoh: Budi">
</div>
<div>
<label for="carModel" class="block text-sm font-medium text-gray-600 mb-1">Model Mobil</label>
<select id="carModel" class="w-full p-2 border border-gray-300 rounded-md shadow-sm">
<option value="" selected>-- Pilih Mobil --</option>
<!-- Options will be generated by JavaScript -->
</select>
</div>
<div>
<label for="salesName" class="block text-sm font-medium text-gray-600 mb-1">Nama Anda</label>
<input type="text" id="salesName" class="w-full p-2 border border-gray-300 rounded-md shadow-sm" placeholder="awi">
</div>
</div>
</div>

<!-- Tipe Customer -->
<div>
<h2 class="text-lg font-semibold text-gray-700 mb-3">2. Pilih Tipe Customer</h2>
<div id="customerType" class="grid grid-cols-3 gap-2 rounded-lg bg-gray-200 p-1">
<button data-type="cold" class="customer-type-btn bg-blue-500 text-white rounded-md p-2 text-sm font-semibold">COLD</button>
<button data-type="warm" class="customer-type-btn text-gray-600 rounded-md p-2 text-sm font-semibold">WARM</button>
<button data-type="hot" class="customer-type-btn text-gray-600 rounded-md p-2 text-sm font-semibold">HOT</button>
</div>
</div>

<!-- Skenario Follow Up -->
<div>
<h2 class="text-lg font-semibold text-gray-700 mb-3">3. Pilih Skenario</h2>
<select id="scenario" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
<!-- Options will be generated by JavaScript -->
</select>
</div>

<!-- Alarm Follow Up -->
<div>
<h2 class="text-lg font-semibold text-gray-700 mb-3">4. Atur Alarm Follow Up</h2>
<div class="grid grid-cols-1 sm:grid-cols-2 gap-4 items-end">
<div>
<label for="alarmDate" class="block text-sm font-medium text-gray-600 mb-1">Tanggal</label>
<input type="date" id="alarmDate" class="w-full p-2 border border-gray-300 rounded-md shadow-sm">
</div>
<div>
<label for="alarmTime" class="block text-sm font-medium text-gray-600 mb-1">Jam</label>
<input type="time" id="alarmTime" class="w-full p-2 border border-gray-300 rounded-md shadow-sm">
</div>
</div>
<button id="setAlarmButton" class="mt-4 w-full bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 flex items-center justify-center gap-2">
Set Alarm
</button>
</div>
</div>
</div>

<!-- Kolom Hasil -->
<div class="p-6 md:p-8 bg-gray-50">
<h2 class="text-lg font-semibold text-gray-700 mb-4">5. Hasil Template Pesan</h2>
<div class="bg-white p-4 rounded-lg shadow-inner min-h-[250px] border border-gray-200">
<p id="templateOutput" class="template-preview text-gray-800 text-sm">Pilih tipe customer dan skenario untuk melihat hasilnya di sini.</p>
</div>
<button id="copyButton" class="mt-4 w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-300 flex items-center justify-center gap-2">
<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
<path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
<path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
</svg>
Salin Pesan
</button>
</div>
</div>
</div>

<!-- Toast Notification -->
<div id="alarmToast" class="fixed bottom-5 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg opacity-0 transform translate-y-10">
<p id="toastMessage"></p>
</div>

<script>
// --- DATA MOBIL & BENEFITNYA ---
const carData = {
"DENZA D9": { benefit: "kemewahan dan kenyamanan premium untuk seluruh keluarga, lengkap dengan kursi pijat dan kulkas di dalam." },
"SEALION 7 Premium": { benefit: "performa sebuah SUV kencang dengan desain premium yang sporty dan futuristik." },
"SEALION 7 Performance": { benefit: "performa sebuah SUV kencang dengan desain premium yang sporty dan futuristik." },
"SEAL 2025 Premium": { benefit: "akselerasi yang responsif dan handling yang sangat stabil berkat teknologi Cell-to-Body." },
"SEAL 2025 Performance": { benefit: "akselerasi yang responsif dan handling yang sangat stabil berkat teknologi Cell-to-Body." },
"SEAL Premium": { benefit: "akselerasi yang responsif dan handling yang sangat stabil berkat teknologi Cell-to-Body." },
"SEAL Performance": { benefit: "akselerasi yang responsif dan handling yang sangat stabil berkat teknologi Cell-to-Body." },
"M6 Standard": { benefit: "ruang kabin super lega yang cocok untuk keluarga besar dan bisa di-charge dengan cepat." },
"M6 Superior": { benefit: "ruang kabin super lega yang cocok untuk keluarga besar dan bisa di-charge dengan cepat." },
"M6 Capt Seat": { benefit: "ruang kabin super lega yang cocok untuk keluarga besar dan bisa di-charge dengan cepat." },
"DOLPHIN Dynamic": { benefit: "desainnya yang stylish dan compact, membuatnya sangat lincah dan hemat untuk mobilitas perkotaan." },
"DOLPHIN Premium": { benefit: "desainnya yang stylish dan compact, membuatnya sangat lincah dan hemat untuk mobilitas perkotaan." },
"ATTO 1 Dynamic": { benefit: "keserbagunaannya sebagai SUV modern yang bahkan bisa jadi sumber listrik darurat (fitur V2L)." },
"ATTO 1 Premium": { benefit: "keserbagunaannya sebagai SUV modern yang bahkan bisa jadi sumber listrik darurat (fitur V2L)." },
"ATTO 3 Advanced Standard": { benefit: "keserbagunaannya sebagai SUV modern yang bahkan bisa jadi sumber listrik darurat (fitur V2L)." },
"ATTO 3 Advanced": { benefit: "keserbagunaannya sebagai SUV modern yang bahkan bisa jadi sumber listrik darurat (fitur V2L)." },
"ATTO 3 Superior": { benefit: "keserbagunaannya sebagai SUV modern yang bahkan bisa jadi sumber listrik darurat (fitur V2L)." }
};

const carList = [
{ group: "DENZA D9", name: "DENZA D9" },
{ group: "SEALION 7", name: "SEALION 7 Premium" },
{ group: "SEALION 7", name: "SEALION 7 Performance" },
{ group: "SEAL 2025", name: "SEAL 2025 Premium" },
{ group: "SEAL 2025", name: "SEAL 2025 Performance" },
{ group: "SEAL", name: "SEAL Premium" },
{ group: "SEAL", name: "SEAL Performance" },
{ group: "M6", name: "M6 Standard" },
{ group: "M6", name: "M6 Superior" },
{ group: "M6", name: "M6 Capt Seat" },
{ group: "DOLPHIN", name: "DOLPHIN Dynamic" },
{ group: "DOLPHIN", name: "DOLPHIN Premium" },
{ group: "ATTO 1", name: "ATTO 1 Dynamic" },
{ group: "ATTO 1", name: "ATTO 1 Premium" },
{ group: "ATTO 3", name: "ATTO 3 Advanced Standard" },
{ group: "ATTO 3", name: "ATTO 3 Advanced" },
{ group: "ATTO 3", name: "ATTO 3 Superior" },
];

const templates = {
cold: {
title: 'Bangun Awareness',
scenarios: {
'introduction': 'Perkenalan & Edukasi Benefit',
'send_brochure': 'Follow Up Setelah Kirim Brosur'
},
messages: {
introduction: `Selamat pagi Bapak/Ibu [Nama Pelanggan], awi [Nama Sales] dari BYD Haka. Awi lihat Bapak/Ibu tertarik dengan mobil listrik.\n\nSekadar info, [Nama Mobil] kami ini punya keunggulan utama di [Benefit Mobil]. Apakah Bapak/Ibu berkenan untuk awi kirimkan brosur digitalnya?`,
send_brochure: `Siang Bapak/Ibu [Nama Pelanggan]. Sesuai permintaan Bapak/Ibu sebelumnya, brosur digital untuk [Nama Mobil] sudah awi kirimkan ya.\n\nSilakan dipelajari dulu. Jika ada pertanyaan mengenai keunggulannya, jangan ragu hubungi awi.`
}
},
warm: {
title: 'Validasi Kebutuhan',
scenarios: {
'ask_preference': 'Tanya Preferensi & Kebutuhan',
'invite_test_drive': 'Beri Value & Ajak Test Drive',
'after_test_drive': 'Follow Up Setelah Test Drive'
},
messages: {
ask_preference: `Sore Bapak/Ibu [Nama Pelanggan], awi [Nama Sales] di sini. Melanjutkan diskusi kita tentang [Nama Mobil], awi yakin Bapak/Ibu pasti suka dengan [Benefit Mobil].\n\nBoleh awi tahu Pak/Bu, selain itu, apa hal lain yang paling penting bagi Bapak/Ibu dalam sebuah mobil baru?`,
invite_test_drive: `Pagi Bapak/Ibu [Nama Pelanggan]. Karena Bapak/Ibu mencari mobil dengan [Benefit Mobil], awi sangat merekomendasikan Bapak/Ibu untuk merasakannya langsung.\n\nApakah akhir pekan ini Bapak/Ibu ada waktu untuk test drive? Awi bisa siapkan unit [Nama Mobil] khusus untuk Bapak/Ibu.`,
after_test_drive: `Sore Bapak/Ibu [Nama Pelanggan]. Terima kasih banyak sudah menyempatkan test drive [Nama Mobil] tadi.\n\nBagaimana Pak/Bu, sudah terbukti kan keunggulannya? Langkah selanjutnya, awi bisa bantu buatkan simulasi pembayaran bertahapnya. Bagaimana, Pak/Bu?`
}
},
hot: {
title: 'Closing / Transaksi',
scenarios: {
'financial_solution': 'Tawarkan Solusi Finansial',
'create_urgency': 'Ciptakan Urgensi (Stok/Promo)',
'final_booking': 'Follow Up Cepat untuk Booking'
},
messages: {
financial_solution: `Siang Bapak/Ibu [Nama Pelanggan]. Awi [Nama Sales]. Terkait diskusi kita, awi sudah siapkan beberapa opsi simulasi pembayaran bertahap untuk [Nama Mobil] yang paling ringan dari leasing rekanan kami.\n\nHitungannya sangat fleksibel, Pak/Bu. Awi kirimkan detailnya ya?`,
create_urgency: `Pagi Bapak/Ibu [Nama Pelanggan], awi [Nama Sales] mau infokan, untuk unit [Nama Mobil] yang Bapak/Ibu minati sisa 1 unit saja yang ready stock. Ada info juga kalau bulan depan akan ada penyesuaian harga.\n\nSaran awi, lebih baik proses sekarang agar dapat harga dan unit terbaik. Bagaimana Pak/Bu, mau awi bantu amankan unitnya?`,
final_booking: `Sore Bapak/Ibu [Nama Pelanggan]. Semua sudah cocok ya Pak/Bu, tinggal selangkah lagi.\n\nUntuk pengurusan data pembayaran bertahapnya, apakah KTP dan KK mau dikirim via WA atau awi bantu jemput datanya sekalian? Biar unit [Nama Mobil] nya bisa segera kami proses.`
}
}
};

const customerTypeContainer = document.getElementById('customerType');
const scenarioSelect = document.getElementById('scenario');
const templateOutput = document.getElementById('templateOutput');
const copyButton = document.getElementById('copyButton');

const customerNameInput = document.getElementById('customerName');
const carModelSelect = document.getElementById('carModel');
const salesNameInput = document.getElementById('salesName');
const alarmDateInput = document.getElementById('alarmDate');
const alarmTimeInput = document.getElementById('alarmTime');
const setAlarmButton = document.getElementById('setAlarmButton');
const alarmToast = document.getElementById('alarmToast');
const toastMessage = document.getElementById('toastMessage');

let currentType = 'cold';

function populateCarOptions() {
const groupedCars = carList.reduce((acc, car) => {
acc[car.group] = acc[car.group] || [];
acc[car.group].push(car);
return acc;
}, {});

for (const group in groupedCars) {
const optgroup = document.createElement('optgroup');
optgroup.label = group;
groupedCars[group].forEach(car => {
const option = document.createElement('option');
option.value = car.name;
option.textContent = car.name;
optgroup.appendChild(option);
});
carModelSelect.appendChild(optgroup);
}
}

function updateScenarios() {
const selectedType = templates[currentType];
scenarioSelect.innerHTML = '';
Object.keys(selectedType.scenarios).forEach(key => {
const option = document.createElement('option');
option.value = key;
option.textContent = selectedType.scenarios[key];
scenarioSelect.appendChild(option);
});
updateTemplate();
}

function updateTemplate() {
const scenarioKey = scenarioSelect.value;
if (!scenarioKey) {
templateOutput.textContent = 'Pilih tipe customer dan skenario untuk melihat hasilnya di sini.';
return;
}

let message = templates[currentType].messages[scenarioKey];

const customerName = customerNameInput.value || '[Nama Pelanggan]';
const carModel = carModelSelect.value || '[Nama Mobil]';
const salesName = salesNameInput.value || 'awi';
const carBenefit = carData[carModel]?.benefit || 'banyak keunggulannya';

message = message.replace(/\[Nama Pelanggan\]/g, customerName);
message = message.replace(/\[Nama Mobil\]/g, carModel);
message = message.replace(/\[Nama Sales\]/g, salesName);
message = message.replace(/\[Benefit Mobil\]/g, carBenefit);

templateOutput.textContent = message;
}

customerTypeContainer.addEventListener('click', (e) => {
if (e.target.tagName === 'BUTTON') {
document.querySelectorAll('.customer-type-btn').forEach(btn => {
btn.classList.remove('bg-blue-500', 'text-white');
btn.classList.add('text-gray-600');
});
e.target.classList.add('bg-blue-500', 'text-white');
e.target.classList.remove('text-gray-600');
currentType = e.target.dataset.type;
updateScenarios();
}
});

scenarioSelect.addEventListener('change', updateTemplate);
[customerNameInput, carModelSelect, salesNameInput].forEach(input => {
input.addEventListener('input', updateTemplate);
});

copyButton.addEventListener('click', () => {
if (navigator.clipboard) {
navigator.clipboard.writeText(templateOutput.textContent).then(() => {
const originalText = copyButton.innerHTML;
copyButton.innerHTML = `
<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
<path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
</svg>
Tersalin!`;
setTimeout(() => {
copyButton.innerHTML = originalText;
}, 2000);
});
} else {
const textArea = document.createElement('textarea');
textArea.value = templateOutput.textContent;
document.body.appendChild(textArea);
textArea.select();
document.execCommand('copy');
textArea.remove();
alert('Pesan disalin ke clipboard!');
}
});

setAlarmButton.addEventListener('click', () => {
const date = alarmDateInput.value;
const time = alarmTimeInput.value;
const customerName = customerNameInput.value || 'customer';

if (!date || !time) {
alert('Silakan isi tanggal dan jam untuk alarm.');
return;
}

const formattedDate = new Date(date).toLocaleDateString('id-ID', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
toastMessage.textContent = `Pengingat untuk ${customerName} diatur ke ${formattedDate} jam ${time}.`;

alarmToast.classList.remove('opacity-0', 'translate-y-10');
alarmToast.classList.add('opacity-100', 'translate-y-0');

setTimeout(() => {
alarmToast.classList.remove('opacity-100', 'translate-y-0');
alarmToast.classList.add('opacity-0', 'translate-y-10');
}, 4000);
});

// Initial load
populateCarOptions();
updateScenarios();
</script>
</body>
</html>